<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:p="http://primefaces.org/ui"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:f="http://xmlns.jcp.org/jsf/core">
    <h:head>
        <title>Facelet Title</title>
        <link rel="stylesheet" type="text/css" href="/EnterpriseDemo/resource/css/common.css"  />
    </h:head>
    <h:body>
        <f:view>
            <h:form>
            <p:commandButton value="Giriş yap" onclick="signInDialogWidget.show();" />
            <p:commandButton value="Kapat dialog" onclick="signInDialogWidget.hide();" />
            <p:commandButton value="Biriş yap" action="test" />
            </h:form>
            <h:form id="mainForm">
                <p:growl autoUpdate="true" showDetail="true" />
                <p:panelGrid columns="2" >
                    <p:outputLabel value="Ad : " />
                    <p:inputText id="adText" value="#{indexBean.kullanici.kullaniciAd}" required="true" requiredMessage="Lütfen isim alanını boş bırakmayınız." >
                        <p:ajax event="blur"  />
                    </p:inputText>
                    <p:outputLabel value="Soyad : " />
                    <p:inputText id="soyadText" value="#{indexBean.kullanici.kullaniciSoyad}" required="true" requiredMessage="Lütfen isim alanını boş bırakmayınız." >
                        <p:ajax event="blur"  />
                    </p:inputText>
                    <p:outputLabel value="Cinsiyet : " />
                    <p:inputText id="cinsiyetText" value="#{indexBean.kullanici.cinsiyet}" required="true" requiredMessage="Lütfen isim alanını boş bırakmayınız." >
                        <p:ajax event="blur"  />
                    </p:inputText>
                    <p:outputLabel value="Doğum Tarihi : " />
                    <p:calendar id="dogumTarihiCal" value="#{indexBean.kullanici.dogumTarihi}" required="true" requiredMessage="Lütfen isim alanını boş bırakmayınız." >
                        <p:ajax event="blur"  />
                    </p:calendar>
                    <p:outputLabel value="E-mail : " />
                    <p:inputText id="emailText" value="#{indexBean.kullanici.email}" required="true" requiredMessage="Lütfen isim alanını boş bırakmayınız." >
                        <p:ajax event="blur"  />
                    </p:inputText>
                    <p:outputLabel value="Şifre : " />
                    <p:password id="passwordText" value="#{indexBean.kullanici.sifre}" required="true" requiredMessage="Lütfen isim alanını boş bırakmayınız." >
                        <p:ajax event="blur"  />
                    </p:password>

                    <p:commandButton value="kaydet" actionListener="#{indexBean.kaydet()}" update=":mainForm" icon="ui-icon-trash"/>
                </p:panelGrid>
            </h:form>
            <h:form>
                <p:dataTable id="kullaniciTablo" var="kullanici" value="#{indexBean.kullaniciListesi}">  
                    <p:column headerText="Id">  
                        <h:outputText value="#{kullanici.kullaniciId}" />  
                    </p:column>  

                    <p:column headerText="Ad" filterBy="#{kullanici.kullaniciAd}" filterMatchMode="endsWith" sortBy="#{kullanici.kullaniciAd}">  
                        <h:outputText value="#{kullanici.kullaniciAd}" />  
                    </p:column>  

                    <p:column headerText="Soyad" filterBy="#{kullanici.kullaniciSoyad}" filterMatchMode="exact">  
                        <h:outputText value="#{kullanici.kullaniciSoyad}" />  
                    </p:column>  

                    <p:column headerText="E-posta">  
                        <h:outputText value="#{kullanici.email}" />  
                    </p:column> 

                    <p:column headerText="Cinsiyet">  
                        <h:outputText value="#{kullanici.cinsiyet eq 'E' ? 'Erkek' : 'Kadın'}" />  
                    </p:column> 

                    <p:column headerText="Doğum Tarihi">  
                        <h:outputText value="#{kullanici.dogumTarihi}" />  
                    </p:column> 

                </p:dataTable>
                <p:commandButton value="Kullanıcıları Getir" actionListener="#{indexBean.kullaniciListesiniGetir()}" update="kullaniciTablo" />
            </h:form>

            <h:form>
                <p:dialog id="signInDialog" header="Sign in" widgetVar="signInDialogWidget"  >
                    <p:panelGrid>
                        <p:row>
                            <p:column>
                                E-posta : 
                            </p:column>
                            <p:column>
                                <p:inputText value="#{indexBean.yeniKullanici.email}" />
                            </p:column>
                        </p:row>
                        <p:row>
                            <p:column>
                                Şifre : 
                            </p:column>
                            <p:column>
                                <p:password value="#{indexBean.yeniKullanici.sifre}" />
                            </p:column>
                        </p:row>
                        <p:row>
                            <p:column> 
                            </p:column>
                            <p:column>
                                <p:commandButton value="Giriş yap" actionListener="#{indexBean.signIn()}" />
                            </p:column>
                        </p:row>
                    </p:panelGrid>
                </p:dialog>
            </h:form>
        </f:view>
    </h:body>
</html>